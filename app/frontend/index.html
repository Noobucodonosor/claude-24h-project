<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Claude Project Hub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .header p {
            color: #4a5568;
            font-size: 1.1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #718096;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .actions-bar {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #56ab2f, #a8e6cf);
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(86, 171, 47, 0.4);
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
        }

        .project-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border-left: 5px solid #667eea;
        }

        .project-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .project-card.active {
            border-left-color: #56ab2f;
        }

        .project-card.planning {
            border-left-color: #ed8936;
        }

        .project-card.paused {
            border-left-color: #718096;
        }

        .project-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .project-icon {
            font-size: 2rem;
        }

        .project-status {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: bold;
            text-transform: uppercase;
        }

        .status-active {
            background: #c6f6d5;
            color: #276749;
        }

        .status-planning {
            background: #feebc8;
            color: #dd6b20;
        }

        .status-paused {
            background: #e2e8f0;
            color: #4a5568;
        }

        .project-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 10px;
        }

        .project-description {
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .project-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 0.85rem;
            color: #718096;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }

        .project-actions {
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.85rem;
            border-radius: 8px;
        }

        .btn-outline {
            background: white;
            border: 2px solid #667eea;
            color: #667eea;
        }

        .btn-outline:hover {
            background: #667eea;
            color: white;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.8rem;
            color: #2d3748;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #718096;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #2d3748;
            font-weight: 600;
        }

        .form-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea.form-input {
            resize: vertical;
            min-height: 100px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .projects-grid {
                grid-template-columns: 1fr;
            }

            .actions-bar {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Claude Project Hub</h1>
            <p>Meta-ambiente per gestire progetti multipli con Claude AI</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">üìä</div>
                <div class="stat-number" id="totalProjects">3</div>
                <div class="stat-label">Progetti Totali</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚úÖ</div>
                <div class="stat-number" id="activeProjects">2</div>
                <div class="stat-label">Attivi</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚è∏Ô∏è</div>
                <div class="stat-number" id="planningProjects">1</div>
                <div class="stat-label">In Planning</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìà</div>
                <div class="stat-number" id="avgProgress">40%</div>
                <div class="stat-label">Progress Medio</div>
            </div>
        </div>

        <div class="actions-bar">
            <button class="btn btn-primary" onclick="openNewProjectModal()">
                ‚ûï Nuovo Progetto
            </button>
            <button class="btn btn-secondary" onclick="openClaudeContext()">
                ü§ñ Apri Context Claude
            </button>
            <button class="btn btn-outline btn-small" onclick="window.location.href='../KNOWLEDGE_BASE.md'">
                üìö Knowledge Base
            </button>
            <button class="btn btn-outline btn-small" onclick="window.location.href='../PROJECT_TEMPLATE.md'">
                üìã Template
            </button>
        </div>

        <div class="projects-grid" id="projectsGrid">
            <!-- Progetti caricati dinamicamente -->
        </div>
    </div>

    <!-- Modal Nuovo Progetto -->
    <div class="modal" id="newProjectModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">‚ûï Nuovo Progetto</h2>
                <button class="close-btn" onclick="closeModal()">‚úï</button>
            </div>
            <form onsubmit="createProject(event)">
                <div class="form-group">
                    <label class="form-label">Nome Progetto</label>
                    <input type="text" class="form-input" id="projectName" required placeholder="es. My Awesome App">
                </div>
                <div class="form-group">
                    <label class="form-label">Tipo</label>
                    <select class="form-input" id="projectType">
                        <option value="webapp">Web App</option>
                        <option value="study">Studio/Research</option>
                        <option value="creative">Creative</option>
                        <option value="tool">Tool</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Descrizione Breve</label>
                    <textarea class="form-input" id="projectDesc" placeholder="Descrivi brevemente il progetto..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Priorit√†</label>
                    <select class="form-input" id="projectPriority">
                        <option value="media">Media</option>
                        <option value="alta">Alta</option>
                        <option value="bassa">Bassa</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    Crea Progetto
                </button>
            </form>
        </div>
    </div>

    <script>
        // Database progetti (in memoria, sostituire con backend reale)
        let projects = [
            {
                id: 1,
                name: "MTG Web App",
                icon: "üéÆ",
                type: "webapp",
                status: "planning",
                priority: "alta",
                description: "Generatore mazzi Magic: The Gathering + Arbitro AI con audio real-time",
                progress: 40,
                phase: "Fase 1 - Setup Ambiente",
                stack: "FastAPI + React + Claude API",
                folder: "projects/mtg-webapp/"
            },
            {
                id: 2,
                name: "Cucina Vegana",
                icon: "ü•ó",
                type: "creative",
                status: "active",
                priority: "media",
                description: "Sistema completo gestione cucina vegana con recipe DB e meal planner",
                progress: 65,
                phase: "Fase 2 - Recipe Database",
                stack: "HTML/JS + JSON Database",
                folder: "projects/cucina-vegana/"
            },
            {
                id: 3,
                name: "Universit√†",
                icon: "üìö",
                type: "study",
                status: "active",
                priority: "alta",
                description: "Tools studio universitario: note synthesis, exam prep, study planner",
                progress: 30,
                phase: "Fase 1 - Definizione metodologie",
                stack: "Markdown + Claude",
                folder: "projects/universita/"
            }
        ];

        function renderProjects() {
            const grid = document.getElementById('projectsGrid');
            grid.innerHTML = projects.map(project => `
                <div class="project-card ${project.status}">
                    <div class="project-header">
                        <div class="project-icon">${project.icon}</div>
                        <span class="project-status status-${project.status}">
                            ${project.status}
                        </span>
                    </div>
                    <div class="project-title">${project.name}</div>
                    <div class="project-description">${project.description}</div>
                    <div class="project-meta">
                        <div class="meta-item">
                            <span>üìÇ</span>
                            <span>${project.type}</span>
                        </div>
                        <div class="meta-item">
                            <span>‚ö°</span>
                            <span>${project.priority}</span>
                        </div>
                        <div class="meta-item">
                            <span>üîß</span>
                            <span>${project.stack.split('+')[0].trim()}</span>
                        </div>
                    </div>
                    <div style="margin-bottom: 8px; font-size: 0.85rem; color: #4a5568;">
                        ${project.phase}
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${project.progress}%"></div>
                    </div>
                    <div style="text-align: right; margin-bottom: 15px; font-size: 0.9rem; font-weight: 600; color: #667eea;">
                        ${project.progress}%
                    </div>
                    <div class="project-actions">
                        <button class="btn btn-primary btn-small" onclick="openProject(${project.id})">
                            üìÇ Apri
                        </button>
                        <button class="btn btn-secondary btn-small" onclick="openInClaude(${project.id})">
                            ü§ñ Claude
                        </button>
                        <button class="btn btn-outline btn-small" onclick="editProject(${project.id})">
                            ‚úèÔ∏è
                        </button>
                    </div>
                </div>
            `).join('');

            updateStats();
        }

        function updateStats() {
            const total = projects.length;
            const active = projects.filter(p => p.status === 'active').length;
            const planning = projects.filter(p => p.status === 'planning').length;
            const avgProgress = Math.round(projects.reduce((sum, p) => sum + p.progress, 0) / total);

            document.getElementById('totalProjects').textContent = total;
            document.getElementById('activeProjects').textContent = active;
            document.getElementById('planningProjects').textContent = planning;
            document.getElementById('avgProgress').textContent = avgProgress + '%';
        }

        function openNewProjectModal() {
            document.getElementById('newProjectModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('newProjectModal').classList.remove('active');
        }

        function createProject(event) {
            event.preventDefault();
            
            const name = document.getElementById('projectName').value;
            const type = document.getElementById('projectType').value;
            const desc = document.getElementById('projectDesc').value;
            const priority = document.getElementById('projectPriority').value;

            const newProject = {
                id: projects.length + 1,
                name: name,
                icon: getIconForType(type),
                type: type,
                status: 'planning',
                priority: priority,
                description: desc,
                progress: 0,
                phase: 'Fase 1 - Planning',
                stack: 'Da definire',
                folder: `projects/${name.toLowerCase().replace(/\s+/g, '-')}/`
            };

            projects.push(newProject);
            renderProjects();
            closeModal();

            alert(`‚úÖ Progetto "${name}" creato!\n\nüìã Next steps:\n1. Crea cartella: ${newProject.folder}\n2. Copia PROJECT_TEMPLATE.md nella cartella\n3. Compila con Claude il template\n4. Commit e push`);
        }

        function getIconForType(type) {
            const icons = {
                webapp: 'üéÆ',
                study: 'üìö',
                creative: 'üé®',
                tool: 'üîß',
                other: 'üì¶'
            };
            return icons[type] || 'üì¶';
        }

        function openProject(id) {
            const project = projects.find(p => p.id === id);
            alert(`üìÇ Apertura progetto: ${project.name}\n\nüìç Percorso: ${project.folder}\n\nüí° Apri il file PROJECT.md nella cartella per vedere i dettagli completi!`);
        }

        function openInClaude(id) {
            const project = projects.find(p => p.id === id);
            const context = `üìã CONTEXT PROGETTO: ${project.name}

üéØ Obiettivo: ${project.description}

üìÇ Path: ${project.folder}

üìç Fase Attuale: ${project.phase}

üíª Stack: ${project.stack}

üìä Progress: ${project.progress}%

---

Per context completo, leggi il file ${project.folder}PROJECT.md

Come posso aiutarti con questo progetto?`;

            // Copia nel clipboard
            navigator.clipboard.writeText(context).then(() => {
                alert(`‚úÖ Context copiato!\n\nApri Claude e incolla il context per iniziare la sessione.\n\nOpzionale: Carica l'intero repository GitHub per context completo.`);
            });
        }

        function openClaudeContext() {
            const allProjects = projects.map(p => 
                `${p.icon} ${p.name} (${p.status} - ${p.progress}%)`
            ).join('\n');

            const globalContext = `üéØ CLAUDE PROJECT HUB - Context Globale

üìä Progetti Attivi (${projects.length}):
${allProjects}

üìö Repository: claude-project-hub/

üìã Documenti Chiave:
- README.md - Overview sistema
- KNOWLEDGE_BASE.md - Context completo
- PROJECT_TEMPLATE.md - Template standard

üí° Per lavorare su un progetto specifico, usa il pulsante "ü§ñ Claude" sulla card del progetto.

Come posso assisterti oggi?`;

            navigator.clipboard.writeText(globalContext).then(() => {
                alert('‚úÖ Context globale copiato!\n\nIncolla in Claude per iniziare una sessione generale.\n\nPer progetti specifici usa il bottone Claude sulla card progetto.');
            });
        }

        function editProject(id) {
            const project = projects.find(p => p.id === id);
            alert(`‚úèÔ∏è Edit progetto: ${project.name}\n\nüöß Feature in sviluppo\n\nPer ora modifica manualmente il file:\n${project.folder}PROJECT.md`);
        }

        // Initialize
        renderProjects();

        // Close modal on outside click
        document.getElementById('newProjectModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>
</body>
</html>